# TIL for 2024-11-28
## 11/28 やったこと
- 見た目やtitleなどの最終調整
- やりたいことの下調べ
- 認証機能の見直し

### 今日アプリ公開をすると言ったな、あれは嘘だ
イベントの準備が整わなかったので公開が延期になりました。ｗｗ<br>

「これ卒制じゃね？」って言われて調子乗ってましたが冷静に見返してみると<br>
内容は大したことしてないなと思いました<br>

とりあえずイベントの為に作ろう！って感じだったので画像アップロードやらのあったらよさげ＋課金が発生しそうな機能は省いてたので<br>
ガワはがしたらRails基礎の復習アプリでしかないという・・・ｗ<br>

純粋にアイデア不足＋知識不足ってのもあるんですがね<br>

---

### - 認証機能の見直し
色々やってたら思ったよりアプリがデカくなってしまって、一人で複数のアカウント作るってのをある程度防がないと良くないのでは？となってきました<br>

これも公開が延期されたからですね・・・ｗ<br>

今は一意なuser nameで登録してるのでnameさえ被らなければアカウント作り放題になってしまいます。<br>
なのでとりあえずemailも追加することにしました。<br>

未登録　→　仮登録的なもの（nameのみ） →  emailも登録すれば全機能使える<br>
みたいに段階的にアクセスできる機能を分けて投稿のハードルを下げる狙いがあります。<br>

もともとは投稿のハードル下げたくてnameとパスワードのみでの登録だったんですが先ほどの懸念もありこういう形にしました<br>

#### email＋パスワードみたいにするならdevice使えばよくね？

これなんですよねー<br>
現在のアプリは認証機能の中身というか、やってることの内部をもう一度おさらいするのにちょうどいいなと思って<br>
has_secure_passwordとnameを使っての認証機能を実装してました<br>

ここにemail追加してもいいんですが、当初の目的である認証機能内部の復習は終わりましたし<br>
自前の認証機能も脆弱性ありそう、さらに今の認証機能から乗り換えたら、共通する部分、乗り換えのやり方、<br>
使ったことのないdeviceの使い方、などなどいろいろ学びが多そうだったのでやってみることにしました<br>
途中でgoogle認証とかぶっ込めたらアツくね？<br>

と、思ってdeviceのこといろいろ調べてたら結構疲れたので適当なとこで切り上げて同期と雑談したりしてました<br>

ざっと調べた感じemail以外での認証、has_secure_passwordで認証機能作ってる場合に上からdevice導入する方法とかはある程度把握できたと思うので<br>
明日devise導入できたらいいなと思ってます<br>

読んでた記事貼ろうかなと思ったんですがちょっと古すぎるのでやめときます<br>

---

いろいろ面倒そうですができればまた手札増えそうなんで頑張ります。おやすみなさい！<br>